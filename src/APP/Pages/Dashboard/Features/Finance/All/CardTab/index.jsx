import React, { useState } from "react";
import Tile from "../../../../../../Components/Tile";

const tileImage = (
  <div className="mr-1">
    <svg
      width="60"
      height="60"
      viewBox="0 0 97 80"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M28.9655 35.8621C33.7211 35.8621 38.282 33.9729 41.6447 30.6102C45.0074 27.2475 46.8966 22.6866 46.8966 17.931C46.8966 13.1754 45.0074 8.6146 41.6447 5.25188C38.282 1.88916 33.7211 0 28.9655 0C24.2099 0 19.6491 1.88916 16.2864 5.25188C12.9236 8.6146 11.0345 13.1754 11.0345 17.931C11.0345 22.6866 12.9236 27.2475 16.2864 30.6102C19.6491 33.9729 24.2099 35.8621 28.9655 35.8621ZM41.3793 55.1724C41.3792 52.2798 42.2885 49.4604 43.9786 47.1128C45.6687 44.7653 48.054 43.0086 50.7972 42.091C49.5508 41.6195 48.2292 41.3783 46.8966 41.3793H11.0345C8.10796 41.3793 5.30129 42.5419 3.23192 44.6112C1.16256 46.6806 0 49.4873 0 52.4138C0 52.4138 0 74.4828 28.9655 74.4828C33.9145 74.4828 38.0138 73.8372 41.4179 72.7724C41.3919 72.4236 41.3791 72.0739 41.3793 71.7241V55.1724ZM85.5172 22.069C85.5172 25.7271 84.064 29.2355 81.4773 31.8222C78.8906 34.4089 75.3823 35.8621 71.7241 35.8621C68.066 35.8621 64.5577 34.4089 61.9709 31.8222C59.3842 29.2355 57.931 25.7271 57.931 22.069C57.931 18.4108 59.3842 14.9025 61.9709 12.3158C64.5577 9.72906 68.066 8.27586 71.7241 8.27586C75.3823 8.27586 78.8906 9.72906 81.4773 12.3158C84.064 14.9025 85.5172 18.4108 85.5172 22.069ZM46.8966 55.1724C46.8966 52.9775 47.7685 50.8725 49.3205 49.3205C50.8725 47.7685 52.9775 46.8966 55.1724 46.8966H88.2759C90.4708 46.8966 92.5758 47.7685 94.1278 49.3205C95.6798 50.8725 96.5517 52.9775 96.5517 55.1724V71.7241C96.5517 73.919 95.6798 76.024 94.1278 77.576C92.5758 79.1281 90.4708 80 88.2759 80H55.1724C52.9775 80 50.8725 79.1281 49.3205 77.576C47.7685 76.024 46.8966 73.919 46.8966 71.7241V55.1724ZM52.4138 55.1724V60.6897C54.6087 60.6897 56.7137 59.8177 58.2657 58.2657C59.8177 56.7137 60.6897 54.6087 60.6897 52.4138H55.1724C55.1724 53.1454 54.8818 53.8471 54.3644 54.3644C53.8471 54.8818 53.1454 55.1724 52.4138 55.1724ZM91.0345 60.6897V55.1724C90.3029 55.1724 89.6012 54.8818 89.0838 54.3644C88.5665 53.8471 88.2759 53.1454 88.2759 52.4138H82.7586C82.7586 54.6087 83.6305 56.7137 85.1826 58.2657C86.7346 59.8177 88.8396 60.6897 91.0345 60.6897ZM82.7586 74.4828H88.2759C88.2759 73.7511 88.5665 73.0495 89.0838 72.5321C89.6012 72.0148 90.3029 71.7241 91.0345 71.7241V66.2069C88.8396 66.2069 86.7346 67.0788 85.1826 68.6308C83.6305 70.1829 82.7586 72.2879 82.7586 74.4828ZM52.4138 66.2069V71.7241C53.1454 71.7241 53.8471 72.0148 54.3644 72.5321C54.8818 73.0495 55.1724 73.7511 55.1724 74.4828H60.6897C60.6897 72.2879 59.8177 70.1829 58.2657 68.6308C56.7137 67.0788 54.6087 66.2069 52.4138 66.2069ZM71.7241 71.7241C73.919 71.7241 76.024 70.8522 77.5761 69.3002C79.1281 67.7482 80 65.6432 80 63.4483C80 61.2534 79.1281 59.1484 77.5761 57.5964C76.024 56.0443 73.919 55.1724 71.7241 55.1724C69.5292 55.1724 67.4242 56.0443 65.8722 57.5964C64.3202 59.1484 63.4483 61.2534 63.4483 63.4483C63.4483 65.6432 64.3202 67.7482 65.8722 69.3002C67.4242 70.8522 69.5292 71.7241 71.7241 71.7241Z"
        fill="white"
        fill-opacity="0.4"
      />
    </svg>
  </div>
);

const CardTab = ({ data }) => {
  const [activeTab, setActiveTab] = useState(0);

  const handleTabClick = (index) => {
    setActiveTab(index);
  };

  return (
    <div>
      <CardsContainer>
        {data?.map((data, i) => (
          <div class="flex-none py-6 px-3 first:pl-6 last:pr-6">
            <div class="flex flex-col items-center justify-center gap-3">
              <Tile
                key={i}
                primaryText={
                  <p
                    className={
                      activeTab == i ? "text-secondary" : "text-primary"
                    }
                  >
                    {data.primaryText}
                  </p>
                }
                bgGradient={activeTab === i ? "bg-primary" : "bg-secondary"}
                bgImage={data.bgImage}
                sx={`border border-2 ${
                  activeTab == i
                    ? "bg-primary "
                    : "border-secondary cursor-pointer hover:border-primary"
                }`}
                onClick={() => handleTabClick(i)}
                secondaryText={
                  <p
                    className={
                      activeTab == i ? "text-secondary" : "text-primary"
                    }
                  >
                    {data.secondaryText}
                  </p>
                }
              >
                {tileImage}
              </Tile>
            </div>
          </div>
        ))}
      </CardsContainer>
      <div className="mt-4">{data && data[activeTab]?.component}</div>
    </div>
  );
};

const CardsContainer = ({ children }) => {
  return (
    <div class="relative rounded-xl overflow-auto">
      <div class="max-w-md mx-auto shadow-xl min-w-full">
        <div class="overflow-x-scroll scroll-hidden flex">{children}</div>
      </div>
    </div>
  );
};

export default CardTab;
